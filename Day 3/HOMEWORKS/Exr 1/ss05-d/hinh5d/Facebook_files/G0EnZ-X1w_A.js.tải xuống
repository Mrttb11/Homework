;/*FB_PKG_DELIM*/

__d("FBShopsLegacyUpgradeDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4772874056151167"}),null);
__d("FBShopsLegacyUpgradeDialogQuery$Parameters",["FBShopsLegacyUpgradeDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("FBShopsLegacyUpgradeDialogQuery_facebookRelayOperation"),metadata:{},name:"FBShopsLegacyUpgradeDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("FBShopsLegacyUpgradeProductTaggingUtils_page.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"FBShopsLegacyUpgradeProductTaggingUtils_page"};e.exports=a}),null);
__d("CometStoryAggregatedUsersSuffixDialogQuery$Parameters",["CometStoryAggregatedUsersSuffixDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometStoryAggregatedUsersSuffixDialogQuery_facebookRelayOperation"),metadata:{},name:"CometStoryAggregatedUsersSuffixDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("FBShopsLegacyUpgradeDialog.entrypoint",["FBShopsLegacyUpgradeDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var c=a.adminHasPermissions,d=a.dialogType,e=a.loggingSurface,f=a.pageID,g=a.referralCode;a=a.referralSurface;var h=d==="product_tagging_friction"||d==="product_tagging_block";return{extraProps:{adminHasPermissions:c,dialogType:d,loggingSurface:e,referralCode:g,referralSurface:a},queries:{FBShopsLegacyUpgradeDialogQueryReference:{parameters:b("FBShopsLegacyUpgradeDialogQuery$Parameters"),variables:{adminHasPermissions:c,isProductTaggingModal:h,pageID:f}}}}},root:c("JSResourceForInteraction")("FBShopsLegacyUpgradeDialog.react").__setRef("FBShopsLegacyUpgradeDialog.entrypoint")};g["default"]=a}),98);
__d("FBShopsLegacyUpgradeProductTaggingUtils",["CometRelay","FBShopsLegacyUpgradeProductTaggingUtils_page.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a=d("CometRelay").readInlineData(h!==void 0?h:h=b("FBShopsLegacyUpgradeProductTaggingUtils_page.graphql"),a);var c=a.legacy_shop_upgrade_admin_and_page_eligibility,e=c==="PAGE_AND_ADMIN_ELIGIBLE"||c==="PAGE_ELIGIBLE_ADMIN_NOT_ELIGIBLE";return!e?{adminHasPermissions:!1,dialogType:"product_tagging_friction",pageID:a.id,shouldShowModal:!1}:{adminHasPermissions:c==="PAGE_AND_ADMIN_ELIGIBLE",dialogType:"product_tagging_block",pageID:a.id,shouldShowModal:!0}}g.getProductTaggingLegacyUpgradeStatus=a}),98);
__d("CometStoryAggregatedUsersSuffixDialog.entrypoint",["CometStoryAggregatedUsersSuffixDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var c=a.storyID;a=a.storyRenderLocation;return{queries:{queryReference:{parameters:b("CometStoryAggregatedUsersSuffixDialogQuery$Parameters"),variables:{id:c,renderLocation:a,scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("CometStoryAggregatedUsersSuffixDialog.react").__setRef("CometStoryAggregatedUsersSuffixDialog.entrypoint")};g["default"]=a}),98);
__d("CometFeedStorySuffixAggregatedUsersRenderer",["CometEntryPointDialogTrigger.react","CometLink.react","CometStoryAggregatedUsersSuffixDialog.entrypoint","react","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=function(a,b){return function(d){if(a==null||b==null){c("recoverableViolation")("story ID or render location were null when rendering aggregated users link in story title","comet_ui");return d}return h.jsx(c("CometEntryPointDialogTrigger.react"),{dialogEntryPoint:c("CometStoryAggregatedUsersSuffixDialog.entrypoint"),otherProps:{},preloadParams:{storyID:a,storyRenderLocation:b},children:function(a){return h.jsx(c("CometLink.react"),{onClick:a,children:d})}})}};g["default"]=a}),98);
__d("CometMediaViewerStage.react",["cr:3346","react"],(function(a,b,c,d,e,f,g){"use strict";d("react"),g["default"]=b("cr:3346")}),98);
__d("CometPhotoViewerAIProductTagReducer",["addToMap"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){switch(b.type){case"SET_KNOWN_AI_TAGS":var d;return babelHelpers["extends"]({},a,{knownAITags:c("addToMap")((d=a.knownAITags)!=null?d:new Map(),b.photoID,b.knownAITags)});case"SET_UNKNOWN_AI_TAGS":return babelHelpers["extends"]({},a,{unknownAITags:c("addToMap")((d=a.unknownAITags)!=null?d:new Map(),b.photoID,b.unknownAITags)});case"SET_IS_PRODUCT_TAGGING":return babelHelpers["extends"]({},a,{isProductTagging:b.isProductTagging});case"SET_TAG_MODE_ENABLED":return babelHelpers["extends"]({},a,{tagModeEnabled:b.tagModeEnabled});case"SET_HOVER_FOR_KNOWN_TAG":return babelHelpers["extends"]({},a,{highlightedKnownAITagID:b.hovering?b.id:null});case"REMOVE_KNOWN_AI_TAG":return babelHelpers["extends"]({},a,{knownAITags:c("addToMap")((d=a.knownAITags)!=null?d:new Map(),b.photoID,(d=a.knownAITags)==null?void 0:(d=d.get(b.photoID))==null?void 0:d.filter(function(a){return a.productID!==b.productID}))});case"UPDATE_TAG_DATA":return babelHelpers["extends"]({},a,{isProductTagging:b.tagData.isProductTagging,tagModeEnabled:b.tagData.tagModeEnabled})}return a}g["default"]=a}),98);
__d("CometMediaViewerDispatcherContext",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext(c("emptyFunction"));g["default"]=b}),98);
__d("CometMediaViewerViewStateContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext({isHovered:!1,prevMouseX:0,prevMouseY:0,prevScale:1,scale:1,translateX:0,translateY:0});g["default"]=b}),98);
__d("CometPhotoRoot.react",["CometFeedStoryClickLoggerImpl.react","CometMediaViewerStage.react","CometPageLayoutWithComplementaryContent.react","CometPhotoViewerAIProductTagReducer","CometPhotoViewerResponsiveInnerWrapper.react","CometPhotoViewerViewStateContext","CometPhotoViewerViewStateDispatcherContext","CometPlaceholder.react","CometProductTagFunnelIDContext","CometProductTagReferralCodeContext","CometRouteParams","CometTrackingCodeContext","CometTrackingNodeProvider.react","HoveredProductIDContext","RelayUFI2CommentsKeyContext","StoryRenderLocation","cr:1689664","deferredLoadComponent","react","requireDeferredForDisplay","unrecoverableViolation","useCurrentRoute","useRoutePassthroughProps","validateAggregatedStoryTrackingNodeIndex","validateTrackingCode"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useMemo,j=e.useReducer,k=e.useState,l=c("deferredLoadComponent")(c("requireDeferredForDisplay")("CometPhotoRootContent.react").__setRef("CometPhotoRoot.react"));function a(a){var e=d("CometRouteParams").useRouteParams(),f=c("useRoutePassthroughProps")(),g=c("validateTrackingCode")(f==null?void 0:f.trackingCode),m=(f==null?void 0:f.origSrc)!=null?String(f==null?void 0:f.origSrc):null,n=(f==null?void 0:f.origWidth)!=null?Number(f==null?void 0:f.origWidth):null,o=(f==null?void 0:f.origHeight)!=null?Number(f==null?void 0:f.origHeight):null,p=(f==null?void 0:f.origOverlayShown)!=null?Boolean(f==null?void 0:f.origOverlayShown):null,q=(f==null?void 0:f.productTagReferralCode)!=null?String(f==null?void 0:f.productTagReferralCode):null,r=(f==null?void 0:f.productTagFunnelID)!=null?String(f==null?void 0:f.productTagFunnelID):null,s=c("useCurrentRoute")();s=(s=s==null?void 0:s.transparent)!=null?s:!1;var t=k(null),u=t[0],v=t[1];t=i(function(){return{hoveredProductID:u,setHoveredProductID:v}},[u,v]);var w=j(function(a,b){a=a;var d=[c("CometPhotoViewerAIProductTagReducer")];for(var e=0;e<d.length;e++){var f=d[e];a=f(a,b)}return a},{highlightedKnownAITagID:null,isProductTagging:!1,knownAITags:null,tagModeEnabled:!1,unknownAITags:null}),x=w[0];w=w[1];var y=e==null?void 0:e.fbid;e=e==null?void 0:e.set;var z=c("validateAggregatedStoryTrackingNodeIndex")(f==null?void 0:f.index),A=f==null?void 0:f.storyRenderLocation,B=void 0;typeof A==="string"&&(B=c("StoryRenderLocation")[A.toUpperCase()]);A=Boolean(f==null?void 0:f.isUntagged);if(y==null||typeof y!=="string")throw c("unrecoverableViolation")("Invalid fbid parameter","comet_ui");if(e!=null&&typeof e!=="string")throw c("unrecoverableViolation")("Invalid set parameter","comet_ui");f=s?{backgroundColor:"dark"}:null;x=h.jsx(c("CometPhotoViewerViewStateContext").Provider,{value:x,children:h.jsx(c("CometPhotoViewerViewStateDispatcherContext").Provider,{value:w,children:h.jsx(c("HoveredProductIDContext").Provider,{value:t,children:h.jsx(c("RelayUFI2CommentsKeyContext").Provider,{value:"CometPhotoRootQuery",children:h.jsx(c("CometTrackingNodeProvider.react"),{index:z,trackingNode:82,children:h.jsx(c("CometProductTagReferralCodeContext").Provider,{value:q,children:h.jsxs(c("CometProductTagFunnelIDContext").Provider,{value:r,children:[h.jsx(c("CometPlaceholder.react"),{fallback:h.jsx(c("CometPageLayoutWithComplementaryContent.react"),{hideContainerBackground:s,isRightRailFixed:!0,rightRail:h.jsx("div",{}),children:h.jsx(c("CometMediaViewerStage.react"),babelHelpers["extends"]({},f,{isUntagged:A,storyRenderLocation:B,useKeyCommands:!1,children:h.jsx(d("CometPhotoViewerResponsiveInnerWrapper.react").CometPhotoViewerPlaceholderWrapper,{height:o,imageUri:m,showPlaceholderImage:m!=null&&n!=null&&o!=null&&p!==!0,width:n})}))}),children:h.jsx(l,babelHelpers["extends"]({hideContainerBackground:s,isUntagged:A,mediasetToken:e,origHeight:o,origOverlayShown:p,origSrc:m,origWidth:n,photoID:y,storyRenderLocation:B},a.queries))}),b("cr:1689664")&&a.queries.loggedOutCTAfooterDataQueryReference&&h.jsx(b("cr:1689664"),{footerDataQueryReference:a.queries.loggedOutCTAfooterDataQueryReference})]})})})})})})});if(g)return h.jsx(c("CometTrackingCodeContext").Provider,{value:g,children:h.jsx(c("CometFeedStoryClickLoggerImpl.react"),{children:x})});else return x}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometMediaSetViewerIndeterminateAdjoiningMediaURLMarker",[],(function(a,b,c,d,e,f){"use strict";a=typeof Symbol==="function"&&typeof Symbol()==="symbol"?Symbol():Object.freeze({});f.INDETERMINATE_ADJOINING_MEDIA_URL=a}),66);
__d("CometMediaViewerNavigationTapTarget.react",["ix","CometMediaViewerDispatcherContext","CometPressable.react","CometProgressSkittleIndeterminate.react","CometSkittleIcon.react","CometTrackingNodeProvider.react","CometVisualCompletionAttributes","fbicon","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useContext,k={buttonContainerBackground:{backgroundColor:"xiwuv7k",$$css:!0},buttonContainerHoverLeft:{opacity:"x1hc1fzr",transform:"xs51lif",$$css:!0},buttonContainerHoverRight:{opacity:"x1hc1fzr",transform:"xzycz3q",$$css:!0},fullHeight:{height:"x5yr21d",$$css:!0},invisible:{opacity:"xg01cxk",transitionDuration:"xhb22t3",transitionTimingFunction:"xls3em1",visibility:"xlshs6z",$$css:!0},navButton:{alignItems:"x6s0dn4",display:"x78zum5",opacity:"x197sbye",paddingTop:"xyamay9",paddingEnd:"x1pi30zi",paddingBottom:"x1l90r2v",paddingStart:"x1swvt13",position:"x1n2onr6",transitionDuration:"x1k90msu",transitionProperty:"x6o7n8i",transitionTimingFunction:"x9lcvmn",willChange:"x6my1t9",$$css:!0},root:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"xl56j7k",opacity:"x1hc1fzr",position:"x1n2onr6",transitionDuration:"x1ebt8du",transitionProperty:"x1jl3cmp",transitionTimingFunction:"x1dhq9h",willChange:"xfwg19i",zIndex:"x1vjfegm",$$css:!0},tapTargetOverlay:{height:"x5yr21d",$$css:!0}};function a(a){var b=a.direction,e=a.hoverOverlayHeight,f=e===void 0?"default":e;e=a.invisible;e=e===void 0?!1:e;var g=a.isLoading,l=g===void 0?!1:g;g=a.label;var m=a.onClick,n=a.testid;n=a.trackingNode;var o=j(c("CometMediaViewerDispatcherContext"));a=function(){o({isHovered:!0,type:"SET_IS_HOVERED"})};var p=function(){o({isHovered:!1,type:"SET_IS_HOVERED"})};return i.jsx("div",babelHelpers["extends"]({},c("CometVisualCompletionAttributes").IGNORE_DYNAMIC,{className:c("stylex")(k.root,e&&k.invisible,f==="default"&&k.fullHeight),"data-testid":void 0,onMouseEnter:a,onMouseLeave:p,children:i.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:n,children:i.jsx(c("CometPressable.react"),{"aria-label":g,disabled:l,focusable:!1,onPress:m,testid:void 0,xstyle:f==="default"&&k.tapTargetOverlay,children:function(a){a=a.hovered;return i.jsx("div",{className:c("stylex")(k.navButton,f==="default"&&k.buttonContainerBackground,a&&!l&&(b==="previous"?k.buttonContainerHoverLeft:k.buttonContainerHoverRight)),children:l?i.jsx(c("CometProgressSkittleIndeterminate.react"),{size:48}):i.jsx(c("CometSkittleIcon.react"),{color:"gray",icon:b==="previous"?d("fbicon")._(h("492491"),24):d("fbicon")._(h("492539"),24),size:48})})}})})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometMediaViewerStageOld.react",["fbt","CometFullScreen","CometKeys","CometMediaSetViewerIndeterminateAdjoiningMediaURLMarker","CometMediaViewerNavigationTapTarget.react","CometMediaViewerViewStateContext","CometProductTagFunnelIDContext","Locale","cometGetKeyCommandConfig","gkx","react","stylex","useCometRoute","useCometRouterDispatcher","useDebouncedComet","useLayerKeyCommands"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useContext,l=b.useEffect,m=b.useLayoutEffect,n=b.useMemo,o=b.useRef,p=b.useState,q=c("gkx")("1299319"),r=c("gkx")("1745416"),s=c("gkx")("1333"),t=2e3,u={darkBackground:{backgroundColor:"xjb1437",$$css:!0},defaultBackground:{backgroundColor:"xal61yo",$$css:!0},easyExit:{bottom:"x1ey2m1c",boxSizing:"x9f619",end:"xds687c",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",$$css:!0},foreground:{alignItems:"x6s0dn4",display:"x78zum5",flexGrow:"x1iyjqo2",height:"x5yr21d",justifyContent:"xl56j7k",position:"x1n2onr6",":focus_outline":"x1uvtmcs",$$css:!0},navButtonContainer:{alignItems:"x6s0dn4",bottom:"x1ey2m1c",display:"x78zum5",end:"xds687c",justifyContent:"x1qughib",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",$$css:!0},stage:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",height:"x5yr21d",minWidth:"x17upfok",position:"x1n2onr6",":focus_outline":"x1uvtmcs",$$css:!0}};function a(a){var b=a.backgroundColor;b=b===void 0?"default":b;var e=a.initialTracePolicy,f=a.isPlayable;f=f===void 0?!1:f;var g=a.isUntagged,v=a.nextMediaURI,w=a.onNavigatePhoto,x=a.prevMediaURI,y=a.storyRenderLocation,z=a.subOrigin,A=a.useKeyCommands,B=A===void 0?!0:A,C=k(c("CometProductTagFunnelIDContext")),D=c("useCometRouterDispatcher")();A=p(!1);var E=A[0],F=A[1],G=k(c("CometMediaViewerViewStateContext")),H=o(!0);A=function(){return I.isPending()?J():I()};var I=c("useDebouncedComet")(function(){F(!1),J()},{leading:!0,wait:t}),J=c("useDebouncedComet")(function(){N==null&&!G.isHovered&&F(!0),H.current=!1},{leading:!1,wait:t}),K=o(null);m(function(){J(),K.current&&H.current&&K.current.focus()});var L=j(function(){D!=null&&D.popPushView()},[D]),M=p(null),N=M[0],O=M[1],P=j(function(){if(v===d("CometMediaSetViewerIndeterminateAdjoiningMediaURLMarker").INDETERMINATE_ADJOINING_MEDIA_URL){O("next");return}if(D==null||typeof v!=="string")return;w&&w();D.go(v,{passthroughProps:{initialTracePolicy:e,isUntagged:g,productTagFunnelID:C,storyRenderLocation:y,subOrigin:z},target:"self",traceParams:{navigation_source:"CometMediaViewer_next"}})},[v,D,w,e,C,y,g,z]),Q=j(function(){if(x===d("CometMediaSetViewerIndeterminateAdjoiningMediaURLMarker").INDETERMINATE_ADJOINING_MEDIA_URL){O("prev");return}if(D==null||typeof x!=="string")return;w&&w();D.go(x,{passthroughProps:{initialTracePolicy:e,isUntagged:g,productTagFunnelID:C,storyRenderLocation:y,subOrigin:z},target:"self",traceParams:{navigation_source:"CometMediaViewer_prev"}})},[x,D,w,e,C,g,y,z]);l(function(){switch(N){case"next":v!==d("CometMediaSetViewerIndeterminateAdjoiningMediaURLMarker").INDETERMINATE_ADJOINING_MEDIA_URL&&(O(null),J(),P());break;case"prev":x!==d("CometMediaSetViewerIndeterminateAdjoiningMediaURLMarker").INDETERMINATE_ADJOINING_MEDIA_URL&&(O(null),J(),Q());break;default:break}},[P,Q,J,v,N,x]);c("useCometRoute")(typeof x==="string"?x:null);c("useCometRoute")(typeof v==="string"?v:null);var R=h._("__JHASH__92xD5G-08Nu__JHASH__"),S=h._("__JHASH__dnD4SkktjMD__JHASH__"),T=j(function(){var a=d("CometFullScreen").getFullScreenElement();if(a==null){a=document.documentElement;a!=null&&d("CometFullScreen").requestFullScreen(a)}else d("CometFullScreen").exitFullScreen()},[]),U=v===d("CometMediaSetViewerIndeterminateAdjoiningMediaURLMarker").INDETERMINATE_ADJOINING_MEDIA_URL||typeof v==="string"&&v!=="",V=x===d("CometMediaSetViewerIndeterminateAdjoiningMediaURLMarker").INDETERMINATE_ADJOINING_MEDIA_URL||typeof x==="string"&&x!=="";M=!V||E||r||s;E=!U||E||r||s;var W=n(function(){if(!B||r||s)return[];var a=[];V&&(a.push({command:{key:c("CometKeys").PREVIOUS},description:R,handler:Q}),a.push(d("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("photoViewer","viewPrevious",Q)));U&&(a.push({command:{key:c("CometKeys").NEXT},description:S,handler:P}),a.push(d("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("photoViewer","viewNext",P)));a.push(d("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("photoViewer","fullscreen",T));return a},[P,Q,U,V,S,R,T,B]);c("useLayerKeyCommands")(W);W=i.jsx(c("CometMediaViewerNavigationTapTarget.react"),{direction:c("Locale").isRTL()?"next":"previous",hoverOverlayHeight:f?"auto":"default",invisible:M,isLoading:N==="prev",label:R,onClick:Q,testid:void 0,trackingNode:143});M=i.jsx(c("CometMediaViewerNavigationTapTarget.react"),{direction:c("Locale").isRTL()?"previous":"next",hoverOverlayHeight:f?"auto":"default",invisible:E,isLoading:N==="next",label:S,onClick:P,testid:void 0,trackingNode:142});return i.jsx("div",{className:c("stylex")(u.stage,b==="default"&&u.defaultBackground,b==="dark"&&u.darkBackground),onMouseMove:A,ref:K,tabIndex:"0",children:i.jsxs("div",{className:"x6s0dn4 x78zum5 x1iyjqo2 x5yr21d xl56j7k x1n2onr6 x1uvtmcs",children:[i.jsxs("div",{className:"x6s0dn4 x1ey2m1c x78zum5 xds687c x1qughib x10l6tqk x17qophe x13vifvy","data-name":"media-viewer-nav-container",children:[!q&&i.jsx("div",{"aria-hidden":!0,className:"x1ey2m1c x9f619 xds687c x10l6tqk x17qophe x13vifvy","data-testid":void 0,onClick:L}),W,M]}),a.children]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);